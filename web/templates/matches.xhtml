<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude">
  
	<xi:include href="head.xhtml" />
	<body>
		<xi:include href="header.xhtml" /> 
        <div id="body_bg">
            <div class="container clearfix">
                <div id="page_title" align="center">Matches - ${session['event']}</div>
                <div id="table_container">  
					<script src="./static/js/teamFilter.js"></script> 
					<script src="./static/js/rotateColumns.js"></script> 
					<input type="hidden" id="numColumns" value="10" />
                    <div class="row visible-xs">
                        <button type="button" class="btn btn-primary col-xs-offset-5 col-xs-4 rotateButton" style="font-size:11px;">Cycle Columns</button>
                    </div>
                    <form id="teamFilter">
						<div class="input-group">
							<input pattern="[0-9]*" id="teamNumberFilter" class="form-control" placeholder="Team #" maxlength="4" type="number" />
							<div class="input-group-btn">
								<button class="btn btn-danger" type="reset">Reset</button>
							</div>
						</div>
                    </form>
                    <table id="matches" class="table table-striped table-hover text-center match_table" role="grid">
                        <thead>
                            <tr role="row">
                                <th class="col-xs-3 col-sm-1 text-center" data-column="0" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none;" aria-label="Match"><div>Match</div></th>
                                
                                <th class="text-center hidden-xs col-sm-1" data-column="1" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none;" aria-label="Blue 1"><div>Blue 1</div></th>
                                <th class="text-center hidden-xs col-sm-1" data-column="2" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none;" aria-label="Blue 2"><div>Blue 2</div></th>
                                <th class="text-center hidden-xs col-sm-1" data-column="3" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none;" aria-label="Blue 3"><div>Blue 3</div></th>
                                <th class="text-center hidden-xs col-sm-1" data-column="4" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none;" aria-label="Red 1"><div>Red 1</div></th>
                                <th class="text-center hidden-xs col-sm-1" data-column="5" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none;" aria-label="Red 2"><div>Red 2</div></th>
                                <th class="text-center hidden-xs col-sm-1" data-column="6" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none;" aria-label="Red 3"><div>Red 3</div></th>
                                <th class="text-center hidden-xs col-sm-1" data-column="5" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none;" aria-label="Blue Score"><div>Blue Score</div></th>
                                <th class="text-center hidden-xs col-sm-1" data-column="6" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none;" aria-label="Red Score"><div>Red Score</div></th>
                                <th class="text-center hidden-xs col-sm-1" data-column="7" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none;" aria-label="Prediction"><div>Prediction</div></th>
                                
                                <th class="titleColumn titleColumn1 text-center hidden-sm hidden-md hidden-lg col-xs-3 hidden-xs" data-column="8" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none; display: none; color: #EEEE00;" aria-sort="none" aria-label="Blue 1"><div>Blue 1</div></th>
                                <th class="titleColumn titleColumn2 text-center hidden-sm hidden-md hidden-lg col-xs-3 hidden-xs" data-column="9" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none; display: none; color: #EEEE00;" aria-sort="none" aria-label="Blue 1"><div>Blue 2</div></th>
                                <th class="titleColumn titleColumn3 text-center hidden-sm hidden-md hidden-lg col-xs-3 hidden-xs" data-column="10" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none; display: none; color: #EEEE00;" aria-sort="none" aria-label="Blue 1"><div>Blue 3</div></th>
                                <th class="titleColumn titleColumn4 text-center hidden-sm hidden-md hidden-lg col-xs-3 hidden-xs" data-column="11" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none; display: none; color: #EEEE00;" aria-sort="none" aria-label="Blue 1"><div>Red 1</div></th>
                                <th class="titleColumn titleColumn5 text-center hidden-sm hidden-md hidden-lg col-xs-3 hidden-xs" data-column="12" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none; display: none; color: #EEEE00;" aria-sort="none" aria-label="Blue 1"><div>Red 2</div></th>
                                <th class="titleColumn titleColumn6 text-center hidden-sm hidden-md hidden-lg col-xs-3 hidden-xs" data-column="13" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none; display: none; color: #EEEE00;" aria-sort="none" aria-label="Blue 1"><div>Red 3</div></th>
                                <th class="titleColumn titleColumn7 text-center hidden-sm hidden-md hidden-lg col-xs-3 hidden-xs" data-column="14" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none; display: none; color: #EEEE00;" aria-sort="none" aria-label="Blue 1"><div>Blue Score</div></th>
                                <th class="titleColumn titleColumn8 text-center hidden-sm hidden-md hidden-lg col-xs-3 hidden-xs" data-column="15" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none; display: none; color: #EEEE00;" aria-sort="none" aria-label="Blue 1"><div>Red Score</div></th>
                                <th class="titleColumn titleColumn9 text-center hidden-sm hidden-md hidden-lg col-xs-3 hidden-xs" data-column="16" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none; display: none; color: #EEEE00;" aria-sort="none" aria-label="Prediction"><div>Prediction</div></th>

                            </tr>
                        </thead>
                        <tbody aria-live="polite" aria-relevant="all">
                            <tr py:for="match in matches" role="row" id="match_${match['num']}">
								<py:with vars="blue1=match['alliances']['blue']['team_keys'][0][3:]; blue2=match['alliances']['blue']['team_keys'][1][3:]; blue3=match['alliances']['blue']['team_keys'][2][3:]; red1=match['alliances']['red']['team_keys'][0][3:]; red2=match['alliances']['red']['team_keys'][1][3:];
								red3=match['alliances']['red']['team_keys'][2][3:]">
									<td><a href="alliances?b1=${blue1}&amp;b2=${blue2}&amp;b3=${blue3}&amp;r1=${red1}&amp;r2=${red2}&amp;r3=${red3}">${match['num']}</a></td>
									<td id="team1_${match['num']}" class="hidden-xs"><a href="/team?n=${blue1}">${blue1}</a></td>
									<td id="team2_${match['num']}" class="hidden-xs"><a href="/team?n=${blue2}">${blue2}</a></td>
									<td id="team3_${match['num']}" class="hidden-xs"><a href="/team?n=${blue3}">${blue3}</a></td>
									<td id="team4_${match['num']}" class="hidden-xs"><a href="/team?n=${red1}">${red1}</a></td>
									<td id="team5_${match['num']}" class="hidden-xs"><a href="/team?n=${red2}">${red2}</a></td>
									<td id="team6_${match['num']}" class="hidden-xs"><a href="/team?n=${red3}">${red3}</a></td>
									<td class="hidden-xs">${match['alliances']['blue']['score']}</td>
									<td class="hidden-xs">${match['alliances']['red']['score']}</td>
									<td class="hidden-xs">									
										<py:if test="match['redPredict']['score'] >= match['bluePredict']['score']">
											<p>Red + ${round(match['redPredict']['score']- match['bluePredict']['score'],0)}</p>
											<p>
												<py:if test="match['redPredict']['RP1']">+</py:if>
												<py:if test="match['redPredict']['RP2']">+</py:if>
												<py:if test="match['bluePredict']['RP1']">-</py:if>
												<py:if test="match['bluePredict']['RP2']">-</py:if>
											</p>
										</py:if>
										<py:if test="match['bluePredict']['score'] >= match['redPredict']['score']">
											<p>Blue + ${round(match['bluePredict']['score']- match['redPredict']['score'],0)}</p>
											<p>
												<py:if test="match['bluePredict']['RP1']">+</py:if>
												<py:if test="match['bluePredict']['RP2']">+</py:if>
												<py:if test="match['redPredict']['RP1']">-</py:if>
												<py:if test="match['redPredict']['RP2']">-</py:if>
											</p>
										</py:if>
									</td>
									
									<td class="rankingColumn rankColumn1 hidden-sm hidden-md hidden-lg hidden-xs" style="display: none;">${blue1}</td>
									<td class="rankingColumn rankColumn2 hidden-sm hidden-md hidden-lg hidden-xs" style="display: none;">${blue2}</td>
									<td class="rankingColumn rankColumn3 hidden-sm hidden-md hidden-lg hidden-xs" style="display: none;">${blue3}</td>
									<td class="rankingColumn rankColumn4 hidden-sm hidden-md hidden-lg hidden-xs" style="display: none;">${red1}</td>
									<td class="rankingColumn rankColumn5 hidden-sm hidden-md hidden-lg hidden-xs" style="display: none;">${red2}</td>
									<td class="rankingColumn rankColumn6 hidden-sm hidden-md hidden-lg hidden-xs" style="display: none;">${red3}</td>
									<td class="rankingColumn rankColumn7 hidden-sm hidden-md hidden-lg hidden-xs" style="display: none;">${match['alliances']['blue']['score']}</td>
									<td class="rankingColumn rankColumn8 hidden-sm hidden-md hidden-lg hidden-xs" style="display: none;">${match['alliances']['red']['score']}</td>
									<td class="rankingColumn rankColumn9 hidden-sm hidden-md hidden-lg hidden-xs" style="display: none;">
										<py:if test="match['redPredict']['score'] >= match['bluePredict']['score']">
											<p>Red + ${round(match['redPredict']['score']- match['bluePredict']['score'],0)}</p>
											<p>
												<py:if test="match['redPredict']['RP1']">+</py:if>
												<py:if test="match['redPredict']['RP2']">+</py:if>
												<py:if test="match['bluePredict']['RP1']">-</py:if>
												<py:if test="match['bluePredict']['RP2']">-</py:if>
											</p>
										</py:if>
										<py:if test="match['bluePredict']['score'] >= match['redPredict']['score']">
											<p>Blue + ${round(match['bluePredict']['score']- match['redPredict']['score'],0)}</p>
											<p>
												<py:if test="match['bluePredict']['RP1']">+</py:if>
												<py:if test="match['bluePredict']['RP2']">+</py:if>
												<py:if test="match['redPredict']['RP1']">-</py:if>
												<py:if test="match['redPredict']['RP2']">-</py:if>
											</p>
										</py:if>
									</td>
								</py:with>
							</tr>
                        </tbody>
                    </table>
                </div>
            </div>
			<xi:include href="footer.html"/>
        </div>
        <div id="bottom_border"></div>
    </body>
</html>