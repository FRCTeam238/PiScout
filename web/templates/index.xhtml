<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude">
  
	<xi:include href="head.xhtml" />
	<body>
	  <xi:include href="header.xhtml" /> 
		<div id="body_bg">
			<div class="container clearfix">
				<div id="page_title" align="center" py:content="session['event']">PiScout</div>
				<div id="table_container"> 		
					<script>
						$( document ).ready(function() {{
							$('.titleColumn0').removeClass("hidden-xs");
							$('.titleColumn0').show();
							$('.rankColumn0').removeClass("hidden-xs");
							$('.rankColumn0').show();
							$('.titleColumn1').removeClass("hidden-xs");
							$('.titleColumn1').show();
							$('.rankColumn1').removeClass("hidden-xs");
							$('.rankColumn1').show();
							$('.titleColumn2').removeClass("hidden-xs");
							$('.titleColumn2').show();
							$('.rankColumn2').removeClass("hidden-xs");
							$('.rankColumn2').show();
							$('.titleColumn3').removeClass("hidden-xs");
							$('.titleColumn3').show();
							$('.rankColumn3').removeClass("hidden-xs");
							$('.rankColumn3').show();
							$('table').tablesorter({
								sortList: [[1, 1]]
							});
						}});
					</script>	
					<script>
						$(function () {{
							var i = 1;
							
							$('.rotateButton').click(function () {{
								$('.titleColumn').hide();
								$('.rankingColumn').hide();
								$('.titleColumn' + i).addClass("hidden-xs");
								$('.rankColumn' + i).addClass("hidden-xs");
								$('.titleColumn' + (i+1)).addClass("hidden-xs");
								$('.rankColumn' + (i+1)).addClass("hidden-xs");
								$('.titleColumn' + (i+2)).addClass("hidden-xs");
								$('.rankColumn' + (i+2)).addClass("hidden-xs");
								i++;
								if (i > ${len(columns)-3}) {{
									i = 1;
								}}
								$('.titleColumn' + i).removeClass("hidden-xs");
								$('.titleColumn' + (i+1)).removeClass("hidden-xs");
								$('.titleColumn' + (i+2)).removeClass("hidden-xs");
								$('.rankColumn' + i).removeClass("hidden-xs");
								$('.rankColumn' + (i+1)).removeClass("hidden-xs");
								$('.rankColumn' + (i+2)).removeClass("hidden-xs");
								$('.rankingColumn').show();
								$('.titleColumn' ).show();
							}});
						}});
					</script>        
					<div class="row visible-xs">
						<button type="button" class="btn btn-primary col-xs-offset-5 col-xs-4 rotateButton" style="font-size:11px;">Cycle Columns</button>
					</div>
					<table class="table table-striped table-hover text-center tablesorter tablesorter-default" role="grid">
						<thead>
							<tr role="row" class="tablesorter-headerRow">								
								<th py:for="i,title in enumerate(columns)" class="text-center hidden-xs col-sm-1 tablesorter-header tablesorter-headerUnSorted" data-column="${i}" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none;" aria-sort="none" aria-label="${title}: No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner">${title}</div></th>
           
								<th py:for="i,title in enumerate(columns)" class="titleColumn titleColumn${i} text-center hidden-sm hidden-md hidden-lg col-xs-3 tablesorter-header tablesorter-headerUnSorted hidden-xs" data-column="${i}" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" style="-moz-user-select: none; display: none; color: #EEEE00;" aria-sort="none" aria-label="${title}: No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner">${title}</div></th>
									
							</tr>
						</thead>
						<tbody>
							<tr py:for="team in data">
								<py:for each="key in columns">
									<py:choose>
											<td py:when="key=='Team'" class="hidden-xs"><a href="team?n=${int(team[key])}">${int(team[key])}</a></td>
											<td py:otherwise="" class="hidden-xs" >${team[key]}</td>
									</py:choose>
								</py:for>
								<td py:for="i, key in enumerate(columns)" class="rankingColumn rankColumn${i} hidden-sm hidden-md hidden-lg hidden-xs" style="display: none;">${team[key]}</td>
                            </tr>
						</tbody>
					</table>
				</div>
			</div>
			<xi:include href="footer.html"/>
		</div>
	  <div id="bottom_border"></div>
    </body>
</html>
